/* ============================================================================
   SIS_LENS — Design System Global
   Filosofia: "Base Neutra + Sotaque de Cor" (Ecossistema SIS_DIGIAI)
   Cor primária: Violet (#7c3aed / violet-600)
   Regras: Flat · Sóbrio · Focado em Dados
   - SEM gradientes em backgrounds/buttons/cards
   - SEM sombras pesadas (máximo shadow-md)
   - SEM animações decorativas
   - SEM glassmorphism
   - Cores semânticas apenas em: ícone-badge, indicador de tendência, bordas de alerta
============================================================================ */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Montserrat:wght@700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================================
   CSS CUSTOM PROPERTIES
============================================================================ */
@layer base {
  :root {
    /* Primary — SIS Lens Violet */
    --primary-50:  #f5f3ff;
    --primary-100: #ede9fe;
    --primary-200: #ddd6fe;
    --primary-300: #c4b5fd;
    --primary-400: #a78bfa;
    --primary-500: #8b5cf6;
    --primary-600: #7c3aed;
    --primary-700: #6d28d9;
    --primary-800: #5b21b6;
    --primary-900: #4c1d95;

    /* Neutrals — Slate (padrão ecossistema) */
    --neutral-50:  #f8fafc;
    --neutral-100: #f1f5f9;
    --neutral-200: #e2e8f0;
    --neutral-300: #cbd5e1;
    --neutral-400: #94a3b8;
    --neutral-500: #64748b;
    --neutral-600: #475569;
    --neutral-700: #334155;
    --neutral-800: #1e293b;
    --neutral-900: #0f172a;

    /* Semantic */
    --success:       #10b981;
    --success-light: #d1fae5;
    --success-dark:  #047857;
    --warning:       #f59e0b;
    --warning-light: #fef3c7;
    --warning-dark:  #b45309;
    --error:         #ef4444;
    --error-light:   #fee2e2;
    --error-dark:    #b91c1c;
    --info:          #3b82f6;
    --info-light:    #dbeafe;
    --info-dark:     #1d4ed8;

    /* Shadows — flat e contidos */
    --shadow-sm:   0 1px 2px 0 rgba(0,0,0,.05);
    --shadow-card: 0 1px 3px 0 rgba(0,0,0,.07), 0 1px 2px -1px rgba(0,0,0,.05);
    --shadow-md:   0 4px 6px -1px rgba(0,0,0,.08), 0 2px 4px -2px rgba(0,0,0,.05);
  }

  /* Dark Mode */
  .dark {
    --neutral-50:  #020617;
    --neutral-100: #0f172a;
    --neutral-200: #1e293b;
    --neutral-300: #334155;
    --neutral-400: #475569;
    --neutral-500: #64748b;
    --neutral-600: #94a3b8;
    --neutral-700: #cbd5e1;
    --neutral-800: #e2e8f0;
    --neutral-900: #f8fafc;

    --success: #34d399;
    --warning: #fbbf24;
    --error:   #f87171;
    --info:    #60a5fa;

    --shadow-card: 0 1px 3px 0 rgba(0,0,0,.3), 0 1px 2px -1px rgba(0,0,0,.2);
  }

  /* ── Base ─────────────────────────────────────────────────────────────── */
  * {
    @apply border-neutral-200 dark:border-neutral-700;
  }

  html {
    @apply scroll-smooth;
  }

  body {
    @apply bg-neutral-50 dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100;
    @apply font-sans antialiased;
    /* Fundo plano — SEM gradientes animados, SEM orbs */
  }

  /* Tipografia */
  h1, h2, h3, h4, h5, h6 {
    /* SEM text-shadow */
    @apply font-headline tracking-tight;
  }
}

/* ============================================================================
   COMPONENTES REUTILIZÁVEIS
============================================================================ */
@layer components {

  /* ── Typography ──────────────────────────────────────────────────────── */
  .heading {
    @apply font-headline font-bold tracking-tight;
  }

  .text-balance {
    text-wrap: balance;
  }

  /* ── Cards ───────────────────────────────────────────────────────────── */
  /* Regra: fundo neutro, sem cores, sem gradiente */
  .card {
    @apply rounded-lg bg-white dark:bg-neutral-800
           border border-neutral-200 dark:border-neutral-700
           shadow-sm transition-shadow duration-150;
  }

  .card:hover {
    @apply shadow-md;
  }

  /* Card de destaque (fornecedor selecionado, melhor opção) */
  .card-highlight {
    @apply card border-primary-500 dark:border-primary-400;
  }

  /* ── Botões ──────────────────────────────────────────────────────────── */
  .btn {
    @apply inline-flex items-center justify-center gap-2
           rounded-lg px-4 py-2 text-sm font-medium
           transition-colors duration-150
           focus:outline-none focus:ring-2 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Primary — violet (cor do SIS Lens) */
  .btn-primary {
    @apply btn bg-primary-600 text-white
           hover:bg-primary-700
           focus:ring-primary-500
           dark:bg-primary-600 dark:hover:bg-primary-700;
  }

  .btn-secondary {
    @apply btn bg-neutral-100 dark:bg-neutral-700
           text-neutral-700 dark:text-neutral-200
           hover:bg-neutral-200 dark:hover:bg-neutral-600
           border border-neutral-200 dark:border-neutral-600
           focus:ring-neutral-400;
  }

  .btn-ghost {
    @apply btn bg-transparent text-neutral-600 dark:text-neutral-400
           hover:bg-neutral-100 dark:hover:bg-neutral-800
           focus:ring-neutral-400;
  }

  .btn-destructive {
    @apply btn bg-error text-white hover:bg-error-dark focus:ring-error;
  }

  /* Outline com cor primary */
  .btn-outline {
    @apply btn bg-transparent border border-primary-600 text-primary-600
           hover:bg-primary-50 dark:hover:bg-primary-900/20
           focus:ring-primary-500
           dark:border-primary-400 dark:text-primary-400;
  }

  /* ── Inputs ──────────────────────────────────────────────────────────── */
  .input {
    @apply w-full rounded-lg border border-neutral-300 dark:border-neutral-600
           bg-white dark:bg-neutral-800
           px-3 py-2 text-sm text-neutral-900 dark:text-neutral-100
           placeholder:text-neutral-400 dark:placeholder:text-neutral-500
           focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20
           dark:focus:border-primary-400 dark:focus:ring-primary-400/20
           transition-colors duration-150;
  }

  /* ── Badges ──────────────────────────────────────────────────────────── */
  .badge {
    @apply inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-medium;
  }

  /* Semânticos */
  .badge-success  { @apply bg-green-100  text-green-700  dark:bg-green-900/30  dark:text-green-400; }
  .badge-warning  { @apply bg-amber-100  text-amber-700  dark:bg-amber-900/30  dark:text-amber-400; }
  .badge-error    { @apply bg-red-100    text-red-700    dark:bg-red-900/30    dark:text-red-400; }
  .badge-info     { @apply bg-blue-100   text-blue-700   dark:bg-blue-900/30   dark:text-blue-400; }
  .badge-primary  { @apply bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400; }
  .badge-neutral  { @apply bg-neutral-100 text-neutral-600 dark:bg-neutral-700 dark:text-neutral-400; }

  /* Ranking */
  .badge-melhor-opcao    { @apply badge bg-amber-500  text-white font-semibold; }
  .badge-entrega-expressa { @apply badge bg-green-500  text-white; }

  /* ── Score indicators ────────────────────────────────────────────────── */
  .score-high   { @apply text-green-600 dark:text-green-400 font-medium; }
  .score-medium { @apply text-amber-600 dark:text-amber-400 font-medium; }
  .score-low    { @apply text-red-600   dark:text-red-400   font-medium; }

  /* ── AlertCard (borda esquerda semântica) ────────────────────────────── */
  /* Regra: cor apenas na borda-left-2, fundo neutro */
  .alert-card {
    @apply card px-4 py-3 border-l-2;
  }

  .alert-card-success { @apply alert-card border-l-green-500; }
  .alert-card-warning { @apply alert-card border-l-amber-500; }
  .alert-card-error   { @apply alert-card border-l-red-500; }
  .alert-card-info    { @apply alert-card border-l-blue-500; }
  .alert-card-primary { @apply alert-card border-l-primary-500; }

  /* ── Scrollbar personalizado ─────────────────────────────────────────── */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.neutral.300') transparent;
  }
  .dark .custom-scrollbar {
    scrollbar-color: theme('colors.neutral.700') transparent;
  }
}

/* ============================================================================
   UTILITÁRIOS
============================================================================ */
@layer utilities {

  /* Animações de entrada (UX, não decorativas) */
  .animate-fade-in {
    animation: fadeIn 0.2s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.25s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
  }

  @keyframes slideUp {
    from { transform: translateY(8px); opacity: 0; }
    to   { transform: translateY(0);   opacity: 1; }
  }

  /* Semáforo de prazo/preço */
  .prazo-rapido { @apply text-green-600 dark:text-green-400; }
  .prazo-medio  { @apply text-amber-600 dark:text-amber-400; }
  .prazo-lento  { @apply text-red-600   dark:text-red-400; }
}
